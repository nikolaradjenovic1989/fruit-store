type UploadImageProps = {
  image: File | null
  setImage: React.Dispatch<React.SetStateAction<File | null>>
}

const UploadImage = ({ image, setImage }: UploadImageProps) => {
  return (
    <>
      <label
        htmlFor="image"
        className="bg-btn-secondary hover:bg-btn-secondary-hover rounded-lg py-3 px-4 cursor-pointer"
      >
        Upload Image
      </label>

      {image && (
        <button className="ml-3" onClick={() => setImage(null)}>
          Remove
        </button>
      )}

      <input
        accept="image/*"
        id="image"
        name="image"
        type="file"
        onChange={(event) => {
          if (event.target.files?.length && event.target.files[0]) {
            setImage(event.target.files[0])
          }
        }}
      />

      {image ? (
        <div className="h-36 mt-4">
          <img
            className="h-36"
            alt="not found"
            src={URL.createObjectURL(image)}
          />
        </div>
      ) : (
        <div className="flex flex-col justify-center items-center h-36 w-full mt-4 bg-modal-overlay rounded-lg">
          <div className="h-6 opacity-70">
            <svg
              width="24"
              height="22"
              viewBox="0 0 24 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.6927 21.333H2.77068C1.24068 21.333 0.000675946 20.228 0.000675946 18.87V2.46395C0.000675946 1.10395 1.24368 0.00195312 2.77068 0.00195312H21.2307C22.7607 0.00195312 24.0007 1.10695 24.0007 2.46395V13.95C24.0007 14.404 23.5877 14.77 23.0777 14.77C22.5677 14.77 22.1547 14.404 22.1547 13.95V2.46395C22.1547 2.00995 21.7387 1.64395 21.2317 1.64395H2.76968C2.25968 1.64395 1.84668 2.01195 1.84668 2.46395V18.87C1.84668 19.324 2.26268 19.69 2.76968 19.69H15.6927C16.2027 19.69 16.6157 20.057 16.6157 20.511C16.6157 20.965 16.2037 21.3309 15.6927 21.3309V21.333ZM0.922676 16.41C0.683049 16.4128 0.450823 16.327 0.270676 16.169C0.185922 16.0977 0.117781 16.0088 0.071033 15.9084C0.0242847 15.8081 6.10352e-05 15.6987 6.10352e-05 15.588C6.10352e-05 15.4772 0.0242847 15.3679 0.071033 15.2675C0.117781 15.1671 0.185922 15.0782 0.270676 15.007L4.86968 10.923C5.71168 10.173 6.99568 9.98695 8.06268 10.461L13.0707 12.687C13.244 12.7651 13.436 12.7921 13.6241 12.7648C13.8123 12.7376 13.9887 12.6571 14.1327 12.533L22.4227 5.16295C22.7837 4.84295 23.3697 4.84295 23.7307 5.16295C24.0907 5.48395 24.0907 6.00495 23.7307 6.32495L15.4397 13.695C14.5967 14.443 13.3137 14.63 12.2457 14.155L7.23768 11.93C7.0645 11.852 6.87268 11.8251 6.68474 11.8524C6.4968 11.8797 6.32055 11.96 6.17668 12.084L1.57468 16.17C1.39438 16.3276 1.16217 16.4131 0.922676 16.41ZM7.38568 8.20495C6.73296 8.20416 6.1072 7.94452 5.64566 7.48297C5.18411 7.02143 4.92447 6.39567 4.92368 5.74295C4.92473 5.09041 5.18449 4.46491 5.64601 4.00358C6.10752 3.54225 6.73313 3.28275 7.38568 3.28195C8.03805 3.28301 8.6634 3.54263 9.1247 4.00393C9.58599 4.46523 9.84562 5.09058 9.84668 5.74295C9.84588 6.3955 9.58638 7.02111 9.12505 7.48262C8.66372 7.94413 8.03822 8.20389 7.38568 8.20495ZM7.38568 4.92295C6.93368 4.92295 6.56568 5.29195 6.56568 5.74295C6.56568 6.19395 6.93368 6.56295 7.38568 6.56295C7.83568 6.56295 8.20568 6.19395 8.20568 5.74295C8.20568 5.29195 7.83568 4.92295 7.38568 4.92295ZM19.8977 21.333C19.6802 21.333 19.4716 21.2466 19.3178 21.0928C19.1641 20.939 19.0777 20.7304 19.0777 20.513V15.589C19.0777 15.4813 19.0989 15.3746 19.1401 15.2751C19.1813 15.1756 19.2417 15.0852 19.3178 15.009C19.3939 14.9329 19.4843 14.8725 19.5838 14.8312C19.6833 14.79 19.79 14.7688 19.8977 14.7688C20.0054 14.7688 20.112 14.79 20.2115 14.8312C20.311 14.8725 20.4014 14.9329 20.4776 15.009C20.5537 15.0852 20.6141 15.1756 20.6553 15.2751C20.6965 15.3746 20.7177 15.4813 20.7177 15.589V20.512C20.7177 20.7294 20.6313 20.938 20.4775 21.0918C20.3237 21.2456 20.1152 21.332 19.8977 21.332V21.333ZM23.1797 18.051C22.9711 18.051 22.7703 17.9712 22.6187 17.828L19.8987 15.274L17.1777 17.83C17.0192 17.9789 16.8081 18.0587 16.5907 18.052C16.3734 18.0452 16.1676 17.9524 16.0187 17.794C15.8698 17.6355 15.7899 17.4243 15.7966 17.207C15.8034 16.9896 15.8962 16.7839 16.0547 16.635L18.9317 13.933C19.0484 13.7892 19.1957 13.6733 19.3629 13.5937C19.5301 13.5141 19.713 13.4727 19.8982 13.4727C20.0834 13.4727 20.2662 13.5141 20.4334 13.5937C20.6006 13.6733 20.7479 13.7892 20.8647 13.933L23.7417 16.635C23.8609 16.7476 23.9436 16.8935 23.9791 17.0537C24.0146 17.2138 24.0012 17.381 23.9407 17.5334C23.8801 17.6859 23.7753 17.8168 23.6396 17.909C23.5039 18.0013 23.3437 18.0507 23.1797 18.051Z"
                fill="white"
                fillOpacity="0.72"
              />
            </svg>
          </div>
          <p className="text-xs font-semibold opacity-70">image preview</p>
        </div>
      )}
    </>
  )
}

export default UploadImage
